<!DOCTYPE html>




<html class="theme-next pisces" lang="zh-tw">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="kXxCbQDO6XajMMXlTzIMZ5reUArY4PDB79OFcuYvw-c" />














  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/Data.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/Data.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/Data.png?v=5.1.4">


  <link rel="mask-icon" href="/Data.png?v=5.1.4" color="#222">





  <meta name="keywords" content="Multi-thread,web crawler,udn_聯合,appledaily_蘋果,TVBS_聯利,SETN_三立,EBC_東森,Chinatimes_中時,ETtoday新聞雲,FTV_民視,mirro_鏡周刊,storm_風傳媒,technews_科技新報,Newtalk_新頭殼,NowNews_今日新聞,Anue_鉅亨," />





  <link rel="alternate" href="/atom.xml" title="TLYu的學習筆記" type="application/atom+xml" />






<meta name="description" content="用多線程加速爬蟲效率   爬蟲：用機器人幫我們自動瀏覽、收集指定網頁的資料  爬蟲會吃掉網站流量 增加公司網路頻寬的成本 了解更多：[系列活動] Python爬蟲實戰    多線程：   充分運用電腦多核心多線程的能力，將任務拆分成許多小任務同時執行   了解更多：多线程有什么用？     先看最後成果  這裡先把重點放在 input 與 output，具體的程式內容會在稍後實作   以 udn聯">
<meta name="keywords" content="Multi-thread,web crawler,udn_聯合,appledaily_蘋果,TVBS_聯利,SETN_三立,EBC_東森,Chinatimes_中時,ETtoday新聞雲,FTV_民視,mirro_鏡周刊,storm_風傳媒,technews_科技新報,Newtalk_新頭殼,NowNews_今日新聞,Anue_鉅亨">
<meta property="og:type" content="article">
<meta property="og:title" content="用多線程加速爬蟲效率">
<meta property="og:url" content="https://TLYu0419.github.io/2019/09/29/用多線程加速爬蟲效率/index.html">
<meta property="og:site_name" content="TLYu的學習筆記">
<meta property="og:description" content="用多線程加速爬蟲效率   爬蟲：用機器人幫我們自動瀏覽、收集指定網頁的資料  爬蟲會吃掉網站流量 增加公司網路頻寬的成本 了解更多：[系列活動] Python爬蟲實戰    多線程：   充分運用電腦多核心多線程的能力，將任務拆分成許多小任務同時執行   了解更多：多线程有什么用？     先看最後成果  這裡先把重點放在 input 與 output，具體的程式內容會在稍後實作   以 udn聯">
<meta property="og:locale" content="zh-tw">
<meta property="og:image" content="https://lh3.googleusercontent.com/xognN_8h9WPDGnn77AkAacwQXFE_c65ArgXp5dNAz9Eo_Y1J57Z055G4EuTDZ0pWWMlJZmWhcC1zGqG5oi9tuIW_Vu5Hfca7W9zXxRhoGNq1nTQoFF2MUdScjACyguX5HSJz-7xH3gT8HZYMHpgKWWrZaLVIcT8qQsrV9_32kioiVinDck7HiDOtQ7pFnuc57DbqST0YGPgE5uP2Axq50QO7kHhrwlttZQELjHJJO0Qs0pXC2B4KBIQlYyNESU7kL7GaOjV6XmetgKwFqSZbhu13OnSdDM7MjeQNu0aT4BRXMqWayBXsxJFJMuSKVnUPbnviIHSvygxYHmzyqWZ-X30McvUhjzgyYMpphwWi-mXKIinNWN2fr4ZRqo_-qiLf0uh2jQQuxshcIvPNkUbCiU-foNG33sm5nCLnlohLulaQlbSz53dZEJ6YHW-4cQaCbeBMCwQ93jJTYYMqlZdNa4c4bRheLyWaWIAoR7Agv-CS2NtzYxMn_8SmjFbzYI6EZ7x-oZJvXctlj3qFl8_wwNwM7Xd39ZcQ14REiZfS3b5ZnJ9O15-lDb_20uRGHpxfdS1MCI4O2hu-Jm2eLs9FxBJeebF2XJXKvaMxsDG7H3g43x63XxzLwKoTUGYtJsJ0SP-U5T6OP5_f8IpPSuv71GgE-ks-gi7RqakVcRD2V0SmYPUo9mdoTPPrDPzh2TyLg5MfZ8I4boNrUCXwT8ualPIBetRM5J1FLI0RakrEqws4Kgc=w958-h539-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/Nme47PmYlf9FM9K7_r6Jf2Gz3aGB35xEHuIJiqJimop9tc_e25fzzcNGE-4aNmxUjyvlKcXDRWBu_7xe1_sHBi_f9rh6p1KvDkQHAVJaWbWPR0Zo8Ww2zXyiO9A2266Xh82W1Yzow9BplmtwDUuG18tFT1xTysU7jP9cdhgdidZVpFJLBmpiIsSjSPY3QKbFimUA7RJxszhtsZf6NRDtpSIBCeCK1pW-YiVmbD1g61u4FTfQR0a0FJEuBMnnNc6jZXccmkl6OQqXRqLTB-mJLqQvV89hDeXs0r8wlkRiixdDu4lD-CtTHMUB87doYUJWstmJlNugWqldAOlTxCWh_LYETz-4JjZZiVgPTsUb-HdmgjZ3hpFOZ7DYznmauXjPaePR4VYv81OwKMJBX27P8QNTX9GqxjV6dfktwP_imWC9SmHdzb6_FYjkxwi0nmDevK3pVzP0-drqVws8X4MZJdtt537Cp_OQMjXtaTqTp22fkiUZnVxeR98PebzKZVu3WowIp-7YzedG1Vm-ZPvqTtIgsEWKdzxNsKbbDI2VlalhIvOnwSXmR-hnbrF1dlD85iOdsr_MyVAl_JReBd2RN4oLhMibZxjkrzzIWnRLb5o8K26BnOHJBYcERYB1bGc_eGKSeLy09bOiH0rAKUn6yW3TxcAIjcULwA4mgcpMVHDMu6Di3xF5W1o-oUsSpjJIqYihe5XOPhjTPu9VtWHprr2gkpIyz3pC_r0jX30Eb68psyc=w958-h524-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/4bGxoNHqN8ZcQhQelyEjYzdyc8_To84Y6Y6674eYZ9AV-gOTwOWCthi3RWuWxc7lttHmOa6gP5cceLPChcRkyhNgkEPeeZV67Qn9OJN9CxHLut2ykoFsu7KhwVDb_wwdcm4J4_GB23Vf2IJ-A85HRdUu8DYoflf6gmQnAOHoCSU5g30G0Xe1ANldnfYeLG7QWIWkgv4uDvIh_1GveJpSgnvgKs8iedknYX166DHarD3YKMqnkLRBqYxYCarhWcgjLXAQUB_V0Wd4pRyDEQz-PS6nRC7i6VFtqmxOd1cBOHU3crx-cKMFTprujmkJk7mJSUj-k4RJSZwX_hf_UL7cBfDQEcVmi9hvMWDRTOFHy4MTcKAoF74GjKYrsXs5Vp9E6f1TRY5mFzXtK51QE-s3uummgFjuDiogeTK_XWbUeFCs4p0Rrcro8xoKjUPeH-fJX4KlCK5OBMZhqjgJKzOT8WJe5tjs-Yc0eYjT7Ofyu8BjZoja62mk4HZOZ4UXy7iuajSlxnybPiINP3gT3ADUFhfTEnwIJ5sf6uhyIGlqye0SEjeY08chamf3Ihg-TkTkXE_LsjWI-hVeb8wIc4ESjk2LsHJv51tdKkY6ttT7CznESrmqGVg4mMqDJKuxN8ALrZgslUje5B0QM2VIjlhduxQIVnpM9D15ffjMvjogJmQH3358nQgK8STfV5GFu4VUmksCl1C9AtRKIw-eN9MYOk-RtDWM-cjolwamzRs7ROS_HYc=w958-h524-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/TCx09m_RChDYSg61IAwjiwwAZD2yA4K7fJL_yf7LujPlHqklNbbQz99HS3SIu1gufwH207Uq-34jgDrWbOA6sSVyoZO46dWQRFOGZBoWCAuty3F3LQxDboyKPpcks15G4s2u_FpBG-zRkdkPWBJn__nNmNWoqWUnKRHyvmDgrrMBuoP0xD8vAkFbMBAC77044KRVB-Em60XqgEb5fN2Lk_RS7GDhTPmAMZSsAw_C76tpN-HOtvp44yMFll47exAEC3L2WGHRWsS4VBLOCWxPiyb-rF2v_0h_VVpMDC63U1LEsk2H-mTt557QDJ9kjgelHvdKoOA8s03upKUyOJQoRhiHAXF-zYXIT1pMCOmglRIT_7WREWfSMmMCJqQKCr8-CXn9Zak7hB-89aHbjIRCWfhTBMXUkDoEMbWQRLyUHDdewpXo2R9Hv0UHt3gE91RDpNOgr8JIvG2RcRNROSAG_ls3Lpu2Fc49KeZvlaD2O9AzVaqGKagLNewvcoHWau0IOoeAL4KDPT4EFf20V20Yy5YBCEwK4zn72-1EssvXAJgONDUh0IpTgn3bafsZVGYmuaZFvIgbFgAkOcLHTDGZZl2SRBSbDr2KvQdZZELTIXigqivy2ZliXbUSuzKrTQcbouPZL-J3xDwWenavHwaMjh6qDaldYB8kvJuOJDwlxxe8IrDGBpiLJzwkTk5b3u10ravNCYq-q0DIwk9T1RaJaWo6ZQx9DmX9a_qkSzmrl0WweT8=w958-h524-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/89Gp-FbNC5VCdCBY_wExeVtAkxikV82VUMb-_qY88nhmkv37U4gC1bWc_6S6Sq9nJxMbnkXWdGYwPMRw7Mxc34a874q5tOKycIPIIP9Jg-m4M1IkTxSvaRI-MEjtP59Zt0CYaYsIJChcjIN_keQkdKLPSuNItMKfknmJYK_W930l0srPkSp8q19hPci-kqLEYR_4J3XtywpJdwsX4zYUVcij1joIWu2p3FTOT_Lznf8EC7DqJ3LQeb9fBJNzg9LEDjo2afPQ8zscuenuyZKuzWSBJxsSQIfVvpLvHZiuinDS0WjRReUWCPz7BFsHRQ4zdV6I0_wReZgEPlc-3xCviKsNhRZwR-t65ncJ76Sa8lsyDAEmZD5F9UJJ40xkTJrJ9olZ-_AbKjEaBM0-c6nuWffUzQEiBEVyiLneRhGJAXLhESIJ-U86YV7k5pARQ8bcl2WXu2uDX4IuxCpxcafBGHUYhcOB7j5ttxL_pHOqfrhEQ4zvgxk0NomtSwUaDoG7vBoPqluGSzJCnuc6PB-TYJNrYe73Sh7YeBpztI5jJGOnUtT4rc4HeiOk6I00Z6AU_uapDXsWN9xNHIHsjA1r3UwWWNdvhxlZfXwvCQcIw7geVC3ijV4iMUsQIoFycP47eHxaONm6-H4WYx_nPbDlfx3f57LgqWs9M8TOAreLspNFQKJQsLouWsSPVeOzqD99Bj-242I3rYPBIKak2b_95xehMXNCOaxflbAia-Ps1NrLjU4=w720-h405-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/iQ-1T60LWf1bzZTNjXvteHoSzmAjP1vJ51xQg9EPLMP2s4PcGBUiQKQLlgsFGxSZmnEbwq-Gsit_pPKCJ7n5UIXjxGgyB7YFFA2Camfi1hABU6v23CnFe0Cl-ekrop69H83UPG0_sA6xD_2Le7MQE_QVLXWUpqL-tECFmiqypPaEu2cX6QslwiTV-fhgqrdYs4nZGo87lhkaWKU-r6xd3pdIMvFykOTXml35i2MJjWvxNtuJhA6Aw5F7pxDiYUHUcpE08k4PcAa1keQbobwsye24WMPPh6CJWCp86ur-MRTWt9iUOuiHQgtw1IZGDA8usJr134Es9ahJlXMp-0Qy1Wb8EC9G3aZ7E5dnl9AeEiRONrgj4GymXdGXET4GhfV04DLo1JAR4A1YaKMBlh5UnC22X8Avn1-9kKkN6gRk6lGD_Vvkhv01GEePp-ujy6QUo5WZ8SFe66SAaKirGcU5te7EtvvkgEbb7qKnSXwv5q77-ev0Ft_xdHqKY9Tn4_w0xqDQ214kqL-NG3q7Y8pOPgmq010qxu7j5IbOArooAy3L2OQEsjvNitXqKzxL0l0FVedHXevSoRpk7CPRPGvSbV08oyM2z6LCt7_cNzj5rcoZDZ29hwJmBmRk0yyjs9Asj8ByIuXamxmzyQftWRP-I-WpQ0jTryhwjI8xVaBsrUdUTwsS-FTL0UpUWrouAHxhUuF5vej1AD6P82lxGjjbcw6HFFniCe-hSo8MLBxEJSbDmWA=w958-h524-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/EfR7xsCHKhqlz8d2CseedbElxmFMI5Ys89b2G4kGTj0UYlWth-vJ098n15JDPXEhHYfjbeQjSTZzYUueWRVQWb7emiUCJChsMhiOhUecZqRhwaf11xpDqaUYR0FAOeL6WbcQfaZMXa7752R3zosJnwdq2rXlq_xtj0ZrulNUNhVEJ0_CZpTChDgI80VrZlDNvvJOZNEuEiXf2cB8vOVlmDBJ5dTuZh78Lau_AfXkTm6YB3y8z95n18lFTmklDsfHl5y6CeaU8Ax1zVMu8Goz4NyX2ZGBv05kMSLDPB5F0xH3-5rysYAumftzrb1BmXS-2hl3I24o4-P-vfHtOUGi3gc2Zy49UDOREtvl1AODqneRNuSHz503MGAesk1k5QfzB1n0pzFXRssJDrBmRvt3g76ekIAX2ESBXwBu1uljqFTjIC0awWkWJdXBo_nAFYyxyJJITogFHS38c_wJhGL2mUnEYaBWi_wxX6XiXJzTo6QXpzuv4-FpfkWjfL_HU_fnGUbwOP8NcoeJfvxngpa42SDm5lMBAj7YHO8SGhAcHm2lx0rDoCAPd8hjefL0HGsw2X_YO1Y4H5PJhGztibUcRx9XBEWGy5hylh37KWlvcdmwQ7uEmLwOSAKgkjJUc2mwGy9Cyhlyu9oW-CsHWKAjJ7CziEzh-RnXwIreb27JkT7bjj2BytVY4ZXje5g0B7jrkvWMVD5sR-nw9-tq-R5ELOQ3MzWJuP0D-M3FVT0iA265XXw=w645-h434-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/dr90zFajUQoO0orBzHMMLYHRVN5gJfvLhwB8PlLmRrpq3PuAVK_8HGBB0_ekzdym_aKASR7KeFGyQKw-_-Uv-WnxL6fS8X5-Kd1XQ9PsIIYG-rYGCxx-91PYkAzt58KGffSukAiPc_fxe8gQtc9bAFPL4sHEPbspkH448WCws_T82ig9ODuuhfg4C3bB1PcMqy0xP9dzTY7ojwNYDdQr4ZQlAmrAryqojL0VLcjJdi4JwIxREwPSif7pEbfjQ5S0MJFVOenb3Ys4dv3mdUx5j7NYEPy8C7vJvAfxvyZkSHRrEdtEnCk4j092j5h83RdEkZj6dvWsssPuNp_Sx3pBni1ZDuhIUW7dt8jdikkHBkKC_9Q8tN7ZB9QQg82FHYrSI0mUATksvKeQYb_s6jUh7gfK68tUda1OIFnttl-jAz-UDtwVUOPOsroSKVFnBplnu_vo91OGhFuZHZiBC8Myfmy63SvzxEBhrDY9LQ4A7PjsxdJj5q-A1tnBSgFdNX5048XAu2wnlEfliCi--0FQVImktnwGX7xaCYeNhCN-SKg3hMwJNHtcr1cgqk8UjC0vO8U6-93-VTJP5y-ZlrV8Y-A5EeT8-MKYh9hkci0dVRuqQ8nH4roNtNQzTbqOv3ivWEWdYcnE0n45WBv1QcVNpwSMIc7b5WRGQxeJo4aaC4WoecEWm8Z3_Fbyx61FxYy6nWn7HZSYMmGq77aaGqXhtD3SKmyU-QqjjJBu1__gEYYuvLg=w440-h273-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/vvbJD_moJVHbgF3M6s5Sv3JjtX13JaI63Aq0eUy0nugkNHO7Ug9Wf1bp8E47eceGhmPKUHl4x3T8T6XNucVdGhfGqupZ1xXqQJ9mRKidb1mSJOenf_SBv7xPI6E1ccUnyi1QhC8sznw66ocUR0QMx5AC4QxX2QrC03dKbBd_JTT5rhyxWX52bvkm-Ez-KI22amekAaDVTZtLdfdy2z4XtJfuPqZ8Z4zTnLajrwTGfzHkmr6BeG3f9STR5xxjMbzCogke2XS1JxqxVX78nE_FRyOn8960KJ-gc8mOr9_bLCVZhf9TnCE1Ah8Zj5OOdDbLtsyR_-xCSsoOytjz67VTUPMrvvdORc3Rdyx3hnsTgLp0PqfN2ztsbfGCmd0jP6zPpwBNuQ8OXpoGBRkM34CpjDVR-SzFTzKTjpkEPBmllt4uMVC0am7Y8d9V_QYvvSDqGX2dcCJCzfbR3HHODlbj0ZfWlcr2SYXf2UIN-O_82po6XNuBizORm3-ncvAh838r1qul3cEz8Ck-VPdZG-pCdzm86sVTdGs7cM_nU9PdAmEXgms2CfetarYm_xBU50Jq02aCkFVGHo6Pso2XHeFFa5lPY1mjEhRCkGXAbtZ3mP6xOgD06PkxO0NxN1AUI-6GkTlFQSpaBOhUF35Dl8FESoO3iu29kguYdnbBZZdEAdFbfZGdJY2Tnoz2umOCq5CLkWTjbiHKpKa_IVMV4VlTvCkm1iG09V1Wf0GZ1E1DCc7HgLc=w721-h300-no">
<meta property="og:updated_time" content="2019-09-30T04:53:22.801Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="用多線程加速爬蟲效率">
<meta name="twitter:description" content="用多線程加速爬蟲效率   爬蟲：用機器人幫我們自動瀏覽、收集指定網頁的資料  爬蟲會吃掉網站流量 增加公司網路頻寬的成本 了解更多：[系列活動] Python爬蟲實戰    多線程：   充分運用電腦多核心多線程的能力，將任務拆分成許多小任務同時執行   了解更多：多线程有什么用？     先看最後成果  這裡先把重點放在 input 與 output，具體的程式內容會在稍後實作   以 udn聯">
<meta name="twitter:image" content="https://lh3.googleusercontent.com/xognN_8h9WPDGnn77AkAacwQXFE_c65ArgXp5dNAz9Eo_Y1J57Z055G4EuTDZ0pWWMlJZmWhcC1zGqG5oi9tuIW_Vu5Hfca7W9zXxRhoGNq1nTQoFF2MUdScjACyguX5HSJz-7xH3gT8HZYMHpgKWWrZaLVIcT8qQsrV9_32kioiVinDck7HiDOtQ7pFnuc57DbqST0YGPgE5uP2Axq50QO7kHhrwlttZQELjHJJO0Qs0pXC2B4KBIQlYyNESU7kL7GaOjV6XmetgKwFqSZbhu13OnSdDM7MjeQNu0aT4BRXMqWayBXsxJFJMuSKVnUPbnviIHSvygxYHmzyqWZ-X30McvUhjzgyYMpphwWi-mXKIinNWN2fr4ZRqo_-qiLf0uh2jQQuxshcIvPNkUbCiU-foNG33sm5nCLnlohLulaQlbSz53dZEJ6YHW-4cQaCbeBMCwQ93jJTYYMqlZdNa4c4bRheLyWaWIAoR7Agv-CS2NtzYxMn_8SmjFbzYI6EZ7x-oZJvXctlj3qFl8_wwNwM7Xd39ZcQ14REiZfS3b5ZnJ9O15-lDb_20uRGHpxfdS1MCI4O2hu-Jm2eLs9FxBJeebF2XJXKvaMxsDG7H3g43x63XxzLwKoTUGYtJsJ0SP-U5T6OP5_f8IpPSuv71GgE-ks-gi7RqakVcRD2V0SmYPUo9mdoTPPrDPzh2TyLg5MfZ8I4boNrUCXwT8ualPIBetRM5J1FLI0RakrEqws4Kgc=w958-h539-no">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://TLYu0419.github.io/2019/09/29/用多線程加速爬蟲效率/"/>





  <title>用多線程加速爬蟲效率 | TLYu的學習筆記</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-tw">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">TLYu的學習筆記</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Way to data scientist</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            關於
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            標籤
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            歸檔
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            檢索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://TLYu0419.github.io/2019/09/29/用多線程加速爬蟲效率/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TLYu0419">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/IMG_20180501_103746.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TLYu的學習筆記">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">用多線程加速爬蟲效率</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2019-09-29T19:48:01+08:00">
                2019-09-29
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新於&#58;</span>
              
              <time title="更新於" itemprop="dateModified" datetime="2019-09-30T12:53:22+08:00">
                2019-09-30
              </time>
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/29/用多線程加速爬蟲效率/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/09/29/用多線程加速爬蟲效率/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2019/09/29/用多線程加速爬蟲效率/" class="leancloud_visitors" data-flag-title="用多線程加速爬蟲效率">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">閱讀次數&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1>用多線程加速爬蟲效率</h1>
<ul>
<li>
<p>爬蟲：用機器人幫我們自動瀏覽、收集指定網頁的資料</p>
<ul>
<li>爬蟲會吃掉網站流量</li>
<li>增加公司網路頻寬的成本</li>
<li>了解更多：<a href="https://www.slideshare.net/tw_dsconf/python-78691041" target="_blank" rel="noopener">[系列活動] Python爬蟲實戰</a></li>
</ul>
</li>
<li>
<p>多線程：</p>
<ul>
<li>
<p>充分運用電腦多核心多線程的能力，將任務拆分成許多小任務同時執行</p>
</li>
<li>
<p>了解更多：<a href="https://www.zhihu.com/question/19901763" target="_blank" rel="noopener">多线程有什么用？</a></p>
</li>
</ul>
</li>
</ul>
<h1>先看最後成果</h1>
<blockquote>
<p>這裡先把重點放在 input 與 output，具體的程式內容會在稍後實作</p>
</blockquote>
<ul>
<li>以 <a href="https://udn.com/news/index" target="_blank" rel="noopener">udn聯合新聞網</a> 的 <a href="https://udn.com/news/story/7251/4065598" target="_blank" rel="noopener">台積電翻紅撐盤台股收跌1.01點 三大法人買超15.56億</a> 為例
<ul>
<li>
<p>擷取一則新聞內容</p>
<p><img src="https://lh3.googleusercontent.com/xognN_8h9WPDGnn77AkAacwQXFE_c65ArgXp5dNAz9Eo_Y1J57Z055G4EuTDZ0pWWMlJZmWhcC1zGqG5oi9tuIW_Vu5Hfca7W9zXxRhoGNq1nTQoFF2MUdScjACyguX5HSJz-7xH3gT8HZYMHpgKWWrZaLVIcT8qQsrV9_32kioiVinDck7HiDOtQ7pFnuc57DbqST0YGPgE5uP2Axq50QO7kHhrwlttZQELjHJJO0Qs0pXC2B4KBIQlYyNESU7kL7GaOjV6XmetgKwFqSZbhu13OnSdDM7MjeQNu0aT4BRXMqWayBXsxJFJMuSKVnUPbnviIHSvygxYHmzyqWZ-X30McvUhjzgyYMpphwWi-mXKIinNWN2fr4ZRqo_-qiLf0uh2jQQuxshcIvPNkUbCiU-foNG33sm5nCLnlohLulaQlbSz53dZEJ6YHW-4cQaCbeBMCwQ93jJTYYMqlZdNa4c4bRheLyWaWIAoR7Agv-CS2NtzYxMn_8SmjFbzYI6EZ7x-oZJvXctlj3qFl8_wwNwM7Xd39ZcQ14REiZfS3b5ZnJ9O15-lDb_20uRGHpxfdS1MCI4O2hu-Jm2eLs9FxBJeebF2XJXKvaMxsDG7H3g43x63XxzLwKoTUGYtJsJ0SP-U5T6OP5_f8IpPSuv71GgE-ks-gi7RqakVcRD2V0SmYPUo9mdoTPPrDPzh2TyLg5MfZ8I4boNrUCXwT8ualPIBetRM5J1FLI0RakrEqws4Kgc=w958-h539-no" alt="圖片1"></p>
</li>
<li>
<p>擷取新聞清單</p>
<p><img src="https://lh3.googleusercontent.com/Nme47PmYlf9FM9K7_r6Jf2Gz3aGB35xEHuIJiqJimop9tc_e25fzzcNGE-4aNmxUjyvlKcXDRWBu_7xe1_sHBi_f9rh6p1KvDkQHAVJaWbWPR0Zo8Ww2zXyiO9A2266Xh82W1Yzow9BplmtwDUuG18tFT1xTysU7jP9cdhgdidZVpFJLBmpiIsSjSPY3QKbFimUA7RJxszhtsZf6NRDtpSIBCeCK1pW-YiVmbD1g61u4FTfQR0a0FJEuBMnnNc6jZXccmkl6OQqXRqLTB-mJLqQvV89hDeXs0r8wlkRiixdDu4lD-CtTHMUB87doYUJWstmJlNugWqldAOlTxCWh_LYETz-4JjZZiVgPTsUb-HdmgjZ3hpFOZ7DYznmauXjPaePR4VYv81OwKMJBX27P8QNTX9GqxjV6dfktwP_imWC9SmHdzb6_FYjkxwi0nmDevK3pVzP0-drqVws8X4MZJdtt537Cp_OQMjXtaTqTp22fkiUZnVxeR98PebzKZVu3WowIp-7YzedG1Vm-ZPvqTtIgsEWKdzxNsKbbDI2VlalhIvOnwSXmR-hnbrF1dlD85iOdsr_MyVAl_JReBd2RN4oLhMibZxjkrzzIWnRLb5o8K26BnOHJBYcERYB1bGc_eGKSeLy09bOiH0rAKUn6yW3TxcAIjcULwA4mgcpMVHDMu6Di3xF5W1o-oUsSpjJIqYihe5XOPhjTPu9VtWHprr2gkpIyz3pC_r0jX30Eb68psyc=w958-h524-no" alt=""></p>
</li>
<li>
<p>組合應用</p>
<p><img src="https://lh3.googleusercontent.com/4bGxoNHqN8ZcQhQelyEjYzdyc8_To84Y6Y6674eYZ9AV-gOTwOWCthi3RWuWxc7lttHmOa6gP5cceLPChcRkyhNgkEPeeZV67Qn9OJN9CxHLut2ykoFsu7KhwVDb_wwdcm4J4_GB23Vf2IJ-A85HRdUu8DYoflf6gmQnAOHoCSU5g30G0Xe1ANldnfYeLG7QWIWkgv4uDvIh_1GveJpSgnvgKs8iedknYX166DHarD3YKMqnkLRBqYxYCarhWcgjLXAQUB_V0Wd4pRyDEQz-PS6nRC7i6VFtqmxOd1cBOHU3crx-cKMFTprujmkJk7mJSUj-k4RJSZwX_hf_UL7cBfDQEcVmi9hvMWDRTOFHy4MTcKAoF74GjKYrsXs5Vp9E6f1TRY5mFzXtK51QE-s3uummgFjuDiogeTK_XWbUeFCs4p0Rrcro8xoKjUPeH-fJX4KlCK5OBMZhqjgJKzOT8WJe5tjs-Yc0eYjT7Ofyu8BjZoja62mk4HZOZ4UXy7iuajSlxnybPiINP3gT3ADUFhfTEnwIJ5sf6uhyIGlqye0SEjeY08chamf3Ihg-TkTkXE_LsjWI-hVeb8wIc4ESjk2LsHJv51tdKkY6ttT7CznESrmqGVg4mMqDJKuxN8ALrZgslUje5B0QM2VIjlhduxQIVnpM9D15ffjMvjogJmQH3358nQgK8STfV5GFu4VUmksCl1C9AtRKIw-eN9MYOk-RtDWM-cjolwamzRs7ROS_HYc=w958-h524-no" alt="concatdfs"></p>
</li>
<li>
<p>多線程爬蟲</p>
<p><img src="https://lh3.googleusercontent.com/TCx09m_RChDYSg61IAwjiwwAZD2yA4K7fJL_yf7LujPlHqklNbbQz99HS3SIu1gufwH207Uq-34jgDrWbOA6sSVyoZO46dWQRFOGZBoWCAuty3F3LQxDboyKPpcks15G4s2u_FpBG-zRkdkPWBJn__nNmNWoqWUnKRHyvmDgrrMBuoP0xD8vAkFbMBAC77044KRVB-Em60XqgEb5fN2Lk_RS7GDhTPmAMZSsAw_C76tpN-HOtvp44yMFll47exAEC3L2WGHRWsS4VBLOCWxPiyb-rF2v_0h_VVpMDC63U1LEsk2H-mTt557QDJ9kjgelHvdKoOA8s03upKUyOJQoRhiHAXF-zYXIT1pMCOmglRIT_7WREWfSMmMCJqQKCr8-CXn9Zak7hB-89aHbjIRCWfhTBMXUkDoEMbWQRLyUHDdewpXo2R9Hv0UHt3gE91RDpNOgr8JIvG2RcRNROSAG_ls3Lpu2Fc49KeZvlaD2O9AzVaqGKagLNewvcoHWau0IOoeAL4KDPT4EFf20V20Yy5YBCEwK4zn72-1EssvXAJgONDUh0IpTgn3bafsZVGYmuaZFvIgbFgAkOcLHTDGZZl2SRBSbDr2KvQdZZELTIXigqivy2ZliXbUSuzKrTQcbouPZL-J3xDwWenavHwaMjh6qDaldYB8kvJuOJDwlxxe8IrDGBpiLJzwkTk5b3u10ravNCYq-q0DIwk9T1RaJaWo6ZQx9DmX9a_qkSzmrl0WweT8=w958-h524-no" alt="oneandmultithreadscompare"></p>
<ul>
<li>留意執行時間
<ul>
<li>單線程：4分23秒</li>
<li>多線程：18.5秒，大約快了 14 倍!</li>
<li>如果抓取大量資料，差距還會更明顯</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1>爬蟲前的背景知識</h1>
<p>以 <a href="https://udn.com/news/story/7251/4065598" target="_blank" rel="noopener">台積電翻紅撐盤台股收跌1.01點 三大法人買超15.56億</a> 為例</p>
<h2 id="html網站結構"><a class="header-anchor" href="#html網站結構">¶</a>html網站結構</h2>
<ul>
<li>
<p>想對網站結構有更多了解的人可以參考 <a href="https://developer.mozilla.org/zh-TW/docs/Learn/Getting_started_with_the_web/HTML_basics" target="_blank" rel="noopener">HTML 到底是什麼？</a></p>
</li>
<li>
<p>重要名詞</p>
<p>這是借用自 <a href="https://incomejoin.com/2019/05/13/html-attributes-html-5-tutorial/" target="_blank" rel="noopener">HTML Attributes ( HTML-5 TUTORIAL )</a> 的圖片，我們在爬蟲時只要透過標定出明確的 標籤(Tag), 屬性(Attribute) 就可以定位出特定的 Element 啦!</p>
<p>接下來就看我們想要抓的是 Element 中的 內容(content)，或是抓取屬性(Attribute)，如抓取下圖中超鏈接</p>
<p><img src="https://lh3.googleusercontent.com/89Gp-FbNC5VCdCBY_wExeVtAkxikV82VUMb-_qY88nhmkv37U4gC1bWc_6S6Sq9nJxMbnkXWdGYwPMRw7Mxc34a874q5tOKycIPIIP9Jg-m4M1IkTxSvaRI-MEjtP59Zt0CYaYsIJChcjIN_keQkdKLPSuNItMKfknmJYK_W930l0srPkSp8q19hPci-kqLEYR_4J3XtywpJdwsX4zYUVcij1joIWu2p3FTOT_Lznf8EC7DqJ3LQeb9fBJNzg9LEDjo2afPQ8zscuenuyZKuzWSBJxsSQIfVvpLvHZiuinDS0WjRReUWCPz7BFsHRQ4zdV6I0_wReZgEPlc-3xCviKsNhRZwR-t65ncJ76Sa8lsyDAEmZD5F9UJJ40xkTJrJ9olZ-_AbKjEaBM0-c6nuWffUzQEiBEVyiLneRhGJAXLhESIJ-U86YV7k5pARQ8bcl2WXu2uDX4IuxCpxcafBGHUYhcOB7j5ttxL_pHOqfrhEQ4zvgxk0NomtSwUaDoG7vBoPqluGSzJCnuc6PB-TYJNrYe73Sh7YeBpztI5jJGOnUtT4rc4HeiOk6I00Z6AU_uapDXsWN9xNHIHsjA1r3UwWWNdvhxlZfXwvCQcIw7geVC3ijV4iMUsQIoFycP47eHxaONm6-H4WYx_nPbDlfx3f57LgqWs9M8TOAreLspNFQKJQsLouWsSPVeOzqD99Bj-242I3rYPBIKak2b_95xehMXNCOaxflbAia-Ps1NrLjU4=w720-h405-no" alt=""></p>
</li>
</ul>
<ul>
<li>以 udn新聞網為例，在網頁中按右鍵選檢查就可以看到該網頁的結構，
<ul>
<li>透過標定出需要的 Element 即可擷取我們需要的資訊(如，標題，時間，內文…等等)<br>
<img src="https://lh3.googleusercontent.com/iQ-1T60LWf1bzZTNjXvteHoSzmAjP1vJ51xQg9EPLMP2s4PcGBUiQKQLlgsFGxSZmnEbwq-Gsit_pPKCJ7n5UIXjxGgyB7YFFA2Camfi1hABU6v23CnFe0Cl-ekrop69H83UPG0_sA6xD_2Le7MQE_QVLXWUpqL-tECFmiqypPaEu2cX6QslwiTV-fhgqrdYs4nZGo87lhkaWKU-r6xd3pdIMvFykOTXml35i2MJjWvxNtuJhA6Aw5F7pxDiYUHUcpE08k4PcAa1keQbobwsye24WMPPh6CJWCp86ur-MRTWt9iUOuiHQgtw1IZGDA8usJr134Es9ahJlXMp-0Qy1Wb8EC9G3aZ7E5dnl9AeEiRONrgj4GymXdGXET4GhfV04DLo1JAR4A1YaKMBlh5UnC22X8Avn1-9kKkN6gRk6lGD_Vvkhv01GEePp-ujy6QUo5WZ8SFe66SAaKirGcU5te7EtvvkgEbb7qKnSXwv5q77-ev0Ft_xdHqKY9Tn4_w0xqDQ214kqL-NG3q7Y8pOPgmq010qxu7j5IbOArooAy3L2OQEsjvNitXqKzxL0l0FVedHXevSoRpk7CPRPGvSbV08oyM2z6LCt7_cNzj5rcoZDZ29hwJmBmRk0yyjs9Asj8ByIuXamxmzyQftWRP-I-WpQ0jTryhwjI8xVaBsrUdUTwsS-FTL0UpUWrouAHxhUuF5vej1AD6P82lxGjjbcw6HFFniCe-hSo8MLBxEJSbDmWA=w958-h524-no" alt="擷取2"></li>
</ul>
</li>
</ul>
<h2 id="爬蟲套件與常用功能"><a class="header-anchor" href="#爬蟲套件與常用功能">¶</a>爬蟲套件與常用功能</h2>
<ul>
<li>requests
<ul>
<li>requests.get</li>
</ul>
</li>
<li>BeautifulSoup
<ul>
<li>常用功能
<ul>
<li>soup.find ：擷取找到的<strong>第一個</strong>物件</li>
<li>soup.find_all ： 擷取<strong>所有</strong>找到的物件，需留意回傳的是一個 list</li>
</ul>
</li>
<li><a href="https://blog.gtwang.org/programming/python-beautiful-soup-module-scrape-web-pages-tutorial/" target="_blank" rel="noopener">Python 使用 Beautiful Soup 抓取與解析網頁資料，開發網路爬蟲教學</a></li>
</ul>
</li>
</ul>
<h1>網路爬蟲實作_udn聯合新聞網</h1>
<ul>
<li>
<p>實作程式碼(可線上執行)：<a href="https://colab.research.google.com/drive/1HGjw0SvyPqMWg-XOZtlfHut91eVpgDfG" target="_blank" rel="noopener">單線程與多線程效率比較.ipynb</a></p>
</li>
<li>
<p>基礎爬蟲</p>
<ul>
<li>
<p>爬取單一新聞：<br>
<a href="https://udn.com/news/story/7251/4065598" target="_blank" rel="noopener">台積電翻紅撐盤台股收跌1.01點 三大法人買超15.56億</a></p>
</li>
<li>
<p>爬取新聞連結：<br>
<a href="https://udn.com/search/result/2/%E5%8F%B0%E7%A9%8D%E9%9B%BB" target="_blank" rel="noopener">台積電 的搜尋結果</a></p>
</li>
<li>
<p>組合應用</p>
</li>
</ul>
</li>
<li>
<p>多線程加速</p>
<p><img src="https://lh3.googleusercontent.com/EfR7xsCHKhqlz8d2CseedbElxmFMI5Ys89b2G4kGTj0UYlWth-vJ098n15JDPXEhHYfjbeQjSTZzYUueWRVQWb7emiUCJChsMhiOhUecZqRhwaf11xpDqaUYR0FAOeL6WbcQfaZMXa7752R3zosJnwdq2rXlq_xtj0ZrulNUNhVEJ0_CZpTChDgI80VrZlDNvvJOZNEuEiXf2cB8vOVlmDBJ5dTuZh78Lau_AfXkTm6YB3y8z95n18lFTmklDsfHl5y6CeaU8Ax1zVMu8Goz4NyX2ZGBv05kMSLDPB5F0xH3-5rysYAumftzrb1BmXS-2hl3I24o4-P-vfHtOUGi3gc2Zy49UDOREtvl1AODqneRNuSHz503MGAesk1k5QfzB1n0pzFXRssJDrBmRvt3g76ekIAX2ESBXwBu1uljqFTjIC0awWkWJdXBo_nAFYyxyJJITogFHS38c_wJhGL2mUnEYaBWi_wxX6XiXJzTo6QXpzuv4-FpfkWjfL_HU_fnGUbwOP8NcoeJfvxngpa42SDm5lMBAj7YHO8SGhAcHm2lx0rDoCAPd8hjefL0HGsw2X_YO1Y4H5PJhGztibUcRx9XBEWGy5hylh37KWlvcdmwQ7uEmLwOSAKgkjJUc2mwGy9Cyhlyu9oW-CsHWKAjJ7CziEzh-RnXwIreb27JkT7bjj2BytVY4ZXje5g0B7jrkvWMVD5sR-nw9-tq-R5ELOQ3MzWJuP0D-M3FVT0iA265XXw=w645-h434-no" alt=""></p>
</li>
<li>
<p>本地端展示 CPU 使用率</p>
<p>在線上的 colab 可能感覺不太出來差別，在這裡將程式碼複製到自己的電腦上執行就會看到多線程會充分運用電腦的CPU!</p>
<p><img src="https://lh3.googleusercontent.com/dr90zFajUQoO0orBzHMMLYHRVN5gJfvLhwB8PlLmRrpq3PuAVK_8HGBB0_ekzdym_aKASR7KeFGyQKw-_-Uv-WnxL6fS8X5-Kd1XQ9PsIIYG-rYGCxx-91PYkAzt58KGffSukAiPc_fxe8gQtc9bAFPL4sHEPbspkH448WCws_T82ig9ODuuhfg4C3bB1PcMqy0xP9dzTY7ojwNYDdQr4ZQlAmrAryqojL0VLcjJdi4JwIxREwPSif7pEbfjQ5S0MJFVOenb3Ys4dv3mdUx5j7NYEPy8C7vJvAfxvyZkSHRrEdtEnCk4j092j5h83RdEkZj6dvWsssPuNp_Sx3pBni1ZDuhIUW7dt8jdikkHBkKC_9Q8tN7ZB9QQg82FHYrSI0mUATksvKeQYb_s6jUh7gfK68tUda1OIFnttl-jAz-UDtwVUOPOsroSKVFnBplnu_vo91OGhFuZHZiBC8Myfmy63SvzxEBhrDY9LQ4A7PjsxdJj5q-A1tnBSgFdNX5048XAu2wnlEfliCi--0FQVImktnwGX7xaCYeNhCN-SKg3hMwJNHtcr1cgqk8UjC0vO8U6-93-VTJP5y-ZlrV8Y-A5EeT8-MKYh9hkci0dVRuqQ8nH4roNtNQzTbqOv3ivWEWdYcnE0n45WBv1QcVNpwSMIc7b5WRGQxeJo4aaC4WoecEWm8Z3_Fbyx61FxYy6nWn7HZSYMmGq77aaGqXhtD3SKmyU-QqjjJBu1__gEYYuvLg=w440-h273-no" alt=""></p>
</li>
</ul>
<h2 id="其他新聞網站"><a class="header-anchor" href="#其他新聞網站">¶</a>其他新聞網站</h2>
<ul>
<li>另外這裡也提供以下網站的爬蟲程式，可以直接在線上執行</li>
<li>執行完畢會將資料存在 Google Drive的空間中，有需要的人再從 Google Drive 下載到自己的電腦即可!
<ul>
<li><a href="https://udn.com/news/index" target="_blank" rel="noopener">udn聯合新聞網</a>：<a href="https://colab.research.google.com/drive/1q0drHfhHHgHcnav2MlCRFh13L2ngQfkh" target="_blank" rel="noopener">多線程爬蟲_udn.ipynb</a></li>
<li><a href="https://tw.appledaily.com/" target="_blank" rel="noopener">蘋果新聞網</a>：<a href="https://colab.research.google.com/drive/13mE6B8hSDd_FVSDcIeHYUjx3V9XHphiv" target="_blank" rel="noopener">多線程爬蟲_蘋果日報.ipynb</a></li>
<li><a href="https://news.tvbs.com.tw/" target="_blank" rel="noopener">TVBS_聯利</a>：<a href="https://colab.research.google.com/drive/1OVDFgAtcAPkU3x0sTxnQkpnCChUY4leN" target="_blank" rel="noopener">多線程爬蟲_TVBS.ipynb</a></li>
<li><a href="https://www.setn.com/" target="_blank" rel="noopener">setn_三立</a>：<a href="https://colab.research.google.com/drive/1H7_zl7Sw2QJbAUhO6Jn0fVvSKtlPlFzk" target="_blank" rel="noopener">多線程爬蟲_三立.ipynb</a></li>
<li><a href="https://news.ebc.net.tw/" target="_blank" rel="noopener">ebc東森</a>：<a href="https://colab.research.google.com/drive/1R7bPBlgkC-blVWroo3NH_tG6tSNqMdU7" target="_blank" rel="noopener">多線程爬蟲_東森.ipynb</a></li>
<li><a href="https://www.chinatimes.com/" target="_blank" rel="noopener">chinatimes_中時</a>：<a href="https://colab.research.google.com/drive/12CvYz3OMLgMl1dVW69KEO5IhWgsqUJCj" target="_blank" rel="noopener">多線程爬蟲_中時.ipynb</a></li>
<li><a href="https://www.ettoday.net/" target="_blank" rel="noopener">ettoday新聞雲</a>：<a href="https://colab.research.google.com/drive/1Mz5omCbSDMEP_ptnHBjsf3xyA-SVW8Vj" target="_blank" rel="noopener">多線程爬蟲_ettoday.ipynb</a></li>
<li><a href="https://www.ftv.com.tw/" target="_blank" rel="noopener">ftv_民視</a>：<a href="https://colab.research.google.com/drive/1NlonkrARiiOpoOmdXU_5jMk2DUzKFu5I" target="_blank" rel="noopener">多線程爬蟲_民視.ipynb</a></li>
<li><a href="https://www.mirrormedia.mg/" target="_blank" rel="noopener">Mirror_鏡周刊</a>：<a href="https://colab.research.google.com/drive/1pBmFqhhg9qtcCnisPJHUWics-ZXUoaUM" target="_blank" rel="noopener">多線程爬蟲_鏡周刊.ipynb</a></li>
<li><a href="https://www.storm.mg/" target="_blank" rel="noopener">STORM_風傳媒</a>：<a href="https://colab.research.google.com/drive/1Ep7yq6mITNEFv7yctmKUZtpwDzHUb5g6" target="_blank" rel="noopener">多線程爬蟲_風傳媒.ipynb</a></li>
<li><a href="https://technews.tw/" target="_blank" rel="noopener">TechNews_科技新報</a>：<a href="https://colab.research.google.com/drive/1e_ilG9usrs4nH80p1wFVtTzaeIpytGHu" target="_blank" rel="noopener">多線程爬蟲_科技新報.ipynb</a></li>
<li><a href="https://newtalk.tw/" target="_blank" rel="noopener">Newtalk_新頭殼</a>：<a href="https://colab.research.google.com/drive/1w5wxur7QROcPpx-Kx7xEdoxwkJ752Brl" target="_blank" rel="noopener">多線程爬蟲_NewTalk.ipynb</a></li>
<li><a href="https://www.nownews.com/" target="_blank" rel="noopener">NOWNews_今日新聞</a>：<a href="https://colab.research.google.com/drive/1u1K6m46vf9lEuUihUaGoVT8RHuyLQcBi" target="_blank" rel="noopener">多線程爬蟲_NowNews.ipynb</a></li>
<li><a href="https://www.cnyes.com/" target="_blank" rel="noopener">Anue_鉅亨</a>：<a href="https://colab.research.google.com/drive/1hKue7hjx1N4zb0wEXZzGrLWnivRUtocc" target="_blank" rel="noopener">多線程爬蟲_鉅亨.ipynb</a></li>
</ul>
</li>
</ul>
<h1>注意事項</h1>
<ul>
<li>
<p><strong>不要透過個人電腦使用公司/學校網路來爬資料</strong></p>
<ul>
<li>請用手機分享熱點給電腦</li>
</ul>
</li>
<li>
<p><strong>同樣的網址，爬下來的資料與看到的不一致?</strong></p>
<ul>
<li>小心系統自動偵測視窗大小，並調整網頁結構</li>
<li>可能的原因是個人化推薦</li>
</ul>
</li>
<li>
<p><strong>開多線程可能會遇到的問題</strong></p>
<ul>
<li>
<p>網站請求失敗</p>
<ul>
<li>導致連結清單有遺漏</li>
<li>新聞抓取失敗</li>
</ul>
</li>
<li>
<p>被禁止連線</p>
<p><img src="https://lh3.googleusercontent.com/vvbJD_moJVHbgF3M6s5Sv3JjtX13JaI63Aq0eUy0nugkNHO7Ug9Wf1bp8E47eceGhmPKUHl4x3T8T6XNucVdGhfGqupZ1xXqQJ9mRKidb1mSJOenf_SBv7xPI6E1ccUnyi1QhC8sznw66ocUR0QMx5AC4QxX2QrC03dKbBd_JTT5rhyxWX52bvkm-Ez-KI22amekAaDVTZtLdfdy2z4XtJfuPqZ8Z4zTnLajrwTGfzHkmr6BeG3f9STR5xxjMbzCogke2XS1JxqxVX78nE_FRyOn8960KJ-gc8mOr9_bLCVZhf9TnCE1Ah8Zj5OOdDbLtsyR_-xCSsoOytjz67VTUPMrvvdORc3Rdyx3hnsTgLp0PqfN2ztsbfGCmd0jP6zPpwBNuQ8OXpoGBRkM34CpjDVR-SzFTzKTjpkEPBmllt4uMVC0am7Y8d9V_QYvvSDqGX2dcCJCzfbR3HHODlbj0ZfWlcr2SYXf2UIN-O_82po6XNuBizORm3-ncvAh838r1qul3cEz8Ck-VPdZG-pCdzm86sVTdGs7cM_nU9PdAmEXgms2CfetarYm_xBU50Jq02aCkFVGHo6Pso2XHeFFa5lPY1mjEhRCkGXAbtZ3mP6xOgD06PkxO0NxN1AUI-6GkTlFQSpaBOhUF35Dl8FESoO3iu29kguYdnbBZZdEAdFbfZGdJY2Tnoz2umOCq5CLkWTjbiHKpKa_IVMV4VlTvCkm1iG09V1Wf0GZ1E1DCc7HgLc=w721-h300-no" alt=""></p>
</li>
</ul>
</li>
<li>
<p>盡量當個有禮貌的分析師</p>
<ul>
<li>避免在尖峰時段爬大量資料</li>
</ul>
</li>
</ul>
<h1>後記</h1>
<ul>
<li>以上就是用多線程爬資料的實作內容與程式，後續還會有如何對這些大量的新聞文本資料分析的Blog，再請持續追蹤囉~</li>
<li>有問題歡迎留言或寫信給我~</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Multi-thread/" rel="tag"># Multi-thread</a>
          
            <a href="/tags/web-crawler/" rel="tag"># web crawler</a>
          
            <a href="/tags/udn-聯合/" rel="tag"># udn_聯合</a>
          
            <a href="/tags/appledaily-蘋果/" rel="tag"># appledaily_蘋果</a>
          
            <a href="/tags/TVBS-聯利/" rel="tag"># TVBS_聯利</a>
          
            <a href="/tags/SETN-三立/" rel="tag"># SETN_三立</a>
          
            <a href="/tags/EBC-東森/" rel="tag"># EBC_東森</a>
          
            <a href="/tags/Chinatimes-中時/" rel="tag"># Chinatimes_中時</a>
          
            <a href="/tags/ETtoday新聞雲/" rel="tag"># ETtoday新聞雲</a>
          
            <a href="/tags/FTV-民視/" rel="tag"># FTV_民視</a>
          
            <a href="/tags/mirro-鏡周刊/" rel="tag"># mirro_鏡周刊</a>
          
            <a href="/tags/storm-風傳媒/" rel="tag"># storm_風傳媒</a>
          
            <a href="/tags/technews-科技新報/" rel="tag"># technews_科技新報</a>
          
            <a href="/tags/Newtalk-新頭殼/" rel="tag"># Newtalk_新頭殼</a>
          
            <a href="/tags/NowNews-今日新聞/" rel="tag"># NowNews_今日新聞</a>
          
            <a href="/tags/Anue-鉅亨/" rel="tag"># Anue_鉅亨</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/05/01/Crawl-Facebook/" rel="next" title="網路爬蟲_Facebook粉絲團貼文與留言">
                <i class="fa fa-chevron-left"></i> 網路爬蟲_Facebook粉絲團貼文與留言
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目錄
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            本站概覽
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/IMG_20180501_103746.jpg"
                alt="TLYu0419" />
            
              <p class="site-author-name" itemprop="name">TLYu0419</p>
              <p class="site-description motion-element" itemprop="description">Hi, Welcome to my bolg!</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">文章</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">31</span>
                  <span class="site-state-item-name">標籤</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/TLYu0419" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:TLYu0419@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#undefined"><span class="nav-number">1.</span> <span class="nav-text">用多線程加速爬蟲效率</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#undefined"><span class="nav-number">2.</span> <span class="nav-text">先看最後成果</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#undefined"><span class="nav-number">3.</span> <span class="nav-text">爬蟲前的背景知識</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#html網站結構"><span class="nav-number">3.1.</span> <span class="nav-text">¶html網站結構</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#爬蟲套件與常用功能"><span class="nav-number">3.2.</span> <span class="nav-text">¶爬蟲套件與常用功能</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#undefined"><span class="nav-number">4.</span> <span class="nav-text">網路爬蟲實作_udn聯合新聞網</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#其他新聞網站"><span class="nav-number">4.1.</span> <span class="nav-text">¶其他新聞網站</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#undefined"><span class="nav-number">5.</span> <span class="nav-text">注意事項</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#undefined"><span class="nav-number">6.</span> <span class="nav-text">後記</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">TLYu0419</span>

  
</div>









<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<span id="busuanzi_container_site_uv">
  本站访客数<span id="busuanzi_value_site_uv"></span>人次
</span>
        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://TLYu0419.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'https://TLYu0419.github.io/2019/09/29/用多線程加速爬蟲效率/';
          this.page.identifier = '2019/09/29/用多線程加速爬蟲效率/';
          this.page.title = '用多線程加速爬蟲效率';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://TLYu0419.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  














  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.4"></script>



  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("qnSPyuKGWkfaxQ8kfY9WwHg3-gzGzoHsz", "lhHv5GaYGHkqxygYev4s6VUq");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
