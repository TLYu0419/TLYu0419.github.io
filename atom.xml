<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>TLYu的學習筆記</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://TLYu0419.github.io/"/>
  <updated>2018-08-27T12:34:19.188Z</updated>
  <id>https://TLYu0419.github.io/</id>
  
  <author>
    <name>TL-Yu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>台灣的文化品味如何？音樂、休閒與閱讀品味的統計分群</title>
    <link href="https://TLYu0419.github.io/2018/08/26/Culture-Cluster/"/>
    <id>https://TLYu0419.github.io/2018/08/26/Culture-Cluster/</id>
    <published>2018-08-26T02:33:55.000Z</published>
    <updated>2018-08-27T12:34:19.188Z</updated>
    
    <content type="html"><![CDATA[<p>想知道台灣的文化品味可以分為哪些類型呢？而區分為幾群又是最適的分群組數？<br>文化品味有這麼多種，而且「喜歡」也有程度上的差異，我們應該怎麼回答這個難題呢?</p><a id="more"></a><p>其實，統計分群是一個不錯的選擇！分群分析是一種幫助我們簡化複雜資料的技術，讓我們在面對這些資料時能夠快速掌握資料的結構</p><p>舉例來說，如果我們想要對民眾的體態進行分群時，最簡單的分類方式就是按照民眾的身高體重進行分群，但是當我們想做更細緻的分群時，參考的資訊可能會加入體脂肪、肌肉量、血壓、基礎代謝…等等因素，可以直接預期的結果是，當我們參考越來越多的因素時，分群這件事情就會變得不知道該從何下手</p><p>那麼我們廢話就不多說了，直接用R語言來實作看看吧!<br>今天我們要使用的資料是由中研院社會所執行的<a href="http://www.ios.sinica.edu.tw/sc/cht/home.php" target="_blank" rel="noopener">台灣社會變遷調查計畫</a>社會階層組(2007)<a href="http://www.ios.sinica.edu.tw/sc/cht/download.php?fn=tscs071.pdf" target="_blank" rel="noopener">調查問卷(pdf)</a>的資料。</p><h1 id="載入相關套件"><a href="#載入相關套件" class="headerlink" title="載入相關套件"></a>載入相關套件</h1><p>如果沒有安裝以下套件的同學，請使用install.packages函數即可快速安裝!<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">library(tidyverse)</span><br><span class="line">library(magrittr)</span><br><span class="line">library(factoextra)</span><br><span class="line">library(FactoMineR)</span><br><span class="line">library(NbClust)</span><br><span class="line">library(foreign)</span><br></pre></td></tr></table></figure></p><h1 id="讀取並清理資料"><a href="#讀取並清理資料" class="headerlink" title="讀取並清理資料"></a>讀取並清理資料</h1><p>在原始資料中有非常豐富的資料，如受訪者得教育、年齡、收入……等等共計多達739的變數，2040份樣本的資料。由於我們今天主要探討的議題是在受訪者的文化品味分群，在這裡我們僅挑選其中音樂(g3a到g3i)、休閒(g4a到g4i)與閱讀(g5a到g5i)等3種文化品味的題組的資料就好囉!<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># 讀取原始資料集</span><br><span class="line">tscs2007 &lt;- read.spss(file = &quot;https://www.ios.sinica.edu.tw/sc/cht/datafile/tscs071.sav&quot;,</span><br><span class="line">                      to.data.frame = T)</span><br><span class="line"></span><br><span class="line"># 在這裡我們先選擇音樂品味題組作為範例。</span><br><span class="line"># 有興趣的學生可以自行選取休閒、閱讀品味題組來練習</span><br><span class="line">tscs2007 %&lt;&gt;% </span><br><span class="line">  select(A_台語流行歌 = g3a, </span><br><span class="line">         B_國語流行歌 = g3b, </span><br><span class="line">         C_日本流行歌 = g3c, </span><br><span class="line">         D_西洋流行歌 = g3d, </span><br><span class="line">         E_古典音樂 = g3e, </span><br><span class="line">         F_國樂 = g3f, </span><br><span class="line">         G_平劇 = g3g, </span><br><span class="line">         H_歌仔戲 = g3h, </span><br><span class="line">         I_布袋戲 = g3i) %&gt;%</span><br><span class="line"># 由於在原始資料中是以1分表示消費頻率最高，4分最低，為了讓後續的解讀更直觀，在此我們先把給分邏輯反轉</span><br><span class="line">  mutate_all(funs(case_when(</span><br><span class="line">    grepl(&quot;經常&quot;, .) ~ 4,</span><br><span class="line">    grepl(&quot;有時&quot;, .) ~ 3,</span><br><span class="line">    grepl(&quot;很少&quot;, .) ~ 2,</span><br><span class="line">    grepl(&quot;從不&quot;, .) ~ 1,</span><br><span class="line">  )))%&gt;%</span><br><span class="line"># 並且在資料中存在一些拒答、漏答的資料，在此我們一起將這些樣本排除</span><br><span class="line">  na.omit(.)%&gt;%</span><br><span class="line"># 將音樂品味的消費頻率轉化為標準分數</span><br><span class="line">  mutate_all(funs(as.vector(scale(.))))</span><br></pre></td></tr></table></figure></p><h1 id="統計分群"><a href="#統計分群" class="headerlink" title="統計分群"></a>統計分群</h1><p>到這裡我們將資料整理完成囉，我們接著就來進行統計分群吧!<br>在這裡我們運用的是k-means演算法，我們先嘗試從音樂品味的角度(g3a到g3i題組)，看看將資料區分為3群時，各群的特色會如何吧!</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">set.seed(123)</span><br><span class="line">km &lt;- kmeans(x = tscs2007, centers = 3, iter.max = 200, nstart = 200) </span><br><span class="line"></span><br><span class="line"># 將分成3群的結果繪製成更直觀的分析圖</span><br><span class="line">tscs2007 %&gt;%</span><br><span class="line">  mutate(clust = as.vector(km$cluster))%&gt;%</span><br><span class="line">  group_by(clust)%&gt;%</span><br><span class="line">  summarise_all(mean)%&gt;%</span><br><span class="line">  gather(cult, Fre,-clust)%&gt;%</span><br><span class="line">  ggplot(mapping = aes(x=clust, y=Fre, fill=cult)) + </span><br><span class="line">  geom_bar(stat = &quot;identity&quot;,position = &quot;dodge&quot;) +</span><br><span class="line">   ylab(label = &quot;Z-score&quot;)</span><br></pre></td></tr></table></figure><p><img src="/2018/08/26/Culture-Cluster/km3.png" alt="km3"></p><p>同理，如果我們想按照音樂品味區分為4, 5群的話，我們只需要更改centers參數就可以囉<br>接著 我們只需要重新執行上面的繪圖指令即可得到新的分群結果囉!<br>我們直接來看一下分為4群和5群時的結果吧!<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set.seed(123)</span><br><span class="line">km &lt;- kmeans(x = tscs2007, centers = 4, iter.max = 200, nstart = 200)</span><br></pre></td></tr></table></figure></p><p><img src="/2018/08/26/Culture-Cluster/km4.png" alt="km4"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set.seed(123)</span><br><span class="line">km &lt;- kmeans(x = tscs2007, centers = 5, iter.max = 200, nstart = 200)</span><br></pre></td></tr></table></figure></p><p><img src="/2018/08/26/Culture-Cluster/km5.png" alt="km5"></p><h1 id="解析分群結果"><a href="#解析分群結果" class="headerlink" title="解析分群結果"></a>解析分群結果</h1><p>分群的結果相當直觀，我們先來剖析一下分群結果吧!</p><p>如果我們分成3群時，我們看到Cluster1對9種音樂的消費頻率皆高於整體平均(Z分數&gt;0)，而Cluster2則相反，對於9種音樂的消費頻率皆低於整體平均(Z&lt;0)，而Cluster3則傾向於消費國語、台語、日本、西洋、古典音樂，但不偏好國樂、平劇、歌仔戲與布袋戲等的音樂。當我們選擇分成4群結果的話呢，除了原先看到的三種群體之外呢，還多出了僅偏好台語、歌仔戲、布袋戲的群體，而另一群消費低於整體平均的特質則更得更加鮮明了。如果再更進一步的選擇分為5群的結果呢，而多被切割出的群體特質是僅消費台語、國語流行歌的群體。</p><p>那麼音樂品味跟社會階層之間是不是存在著某些聯繫呢？國外已經有研究發現文化品味與社會階層是存在關聯性的!如同<a href="http://www.facoltaspes.unimi.it/files/_ITA_/COM/Social_stratification_and_cultural_consumption_-_COM.pdf" target="_blank" rel="noopener">Chan and Goldthorpe 2007</a>研究的內容，簡單來說，早期的研究認為不同的文化品味與社會階級之間有單一個對應關係(Bourdieu 1984)，也就是上層階級會喜歡精緻、高雅的文化活動，而下層階級則偏好通俗、流行的文化活動，這樣的觀點被稱為同源論(homology)；而新的研究則發現階級與文化品味之間的關係已經產生了變化，<a href="https://books.google.com.tw/books?hl=zh-TW&amp;lr=&amp;id=raPbbFuYOG4C&amp;oi=fnd&amp;pg=PA152&amp;ots=CZ6D_MnVVM&amp;sig=9E6FGFJBg6K50r7M_Bfe6yFEtH4&amp;redir_esc=y#v=onepage&amp;q&amp;f=false" target="_blank" rel="noopener">Peterson and Simkus 1992</a>的研究發現，在全球化與多元文化的觀點之下，上層階級除了喜歡精緻文化之外，也會開始消費一些通俗文化，而下層階級則仍然只偏好通俗文化，這種觀點被稱作雜食-純食論(omnivore–univore)。另外也有研究認為文化品味是屬於個人的偏好，與階級並沒有關係，這種觀點稱為個人化論。</p><p>但是國外研究的發現內容能不能直接用來解釋台灣社會呢？對於台灣社會來說，文化品味與社會階層是不是存在對應關係呢？如果存在對應關係的話，又是比較接近同源論、雜食-純食論或者個人化論的觀點呢？有興趣的讀者可以根據這裡的分群結果，再進一步的與社會變遷調查的資料中的受訪者職業、教育、收入、階級、家庭背景、年齡……等等資訊進行分析。相信還會挖掘出許多有意思的資訊!</p><h1 id="最適分群組數"><a href="#最適分群組數" class="headerlink" title="最適分群組數"></a>最適分群組數</h1><p>如果區分為3群、4群或5群都是很有意思的結果的話呢，那麼我們又應該如何選擇最適的分群組數呢？那麼我們能不能透過統計模型給予我們一些分群組數的建議呢？答案當然是可以的！</p><p>這裡我們要運用的是NbClust套件，這個套件提供了30種評估最適分群組數的統計指標，<br>研究者可以直接設定一個區間請統計模型幫我們把區間內的每個數值都計算一次，<br>最後再讓這30個統計指標表決，如果大多指標都指向特定的分群組數，那麼我們就可以相信這個分群組數是較合適的分群結果!</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#透過NbClust函數請統計模型建議我們合適的分群組數</span><br><span class="line">nb &lt;- NbClust(data = tscs2007,  </span><br><span class="line">              distance = &quot;euclidean&quot;,</span><br><span class="line">              min.nc = 2,</span><br><span class="line">              max.nc = 9,</span><br><span class="line">              method = &quot;kmeans&quot;)</span><br><span class="line">fviz_nbclust(nb)</span><br></pre></td></tr></table></figure><p><img src="/2018/08/26/Culture-Cluster/nbclust.png" alt="nbclust"></p><p>從以上的分群結果來看，建議區分為2或3群的統計指標最多，分別獲得了6票和7票，其中又以建議區分為3群是最多統計指標支持的結果。</p><h1 id="練習時間"><a href="#練習時間" class="headerlink" title="練習時間"></a>練習時間</h1><p>以上是我們運用音樂品味變項進行的統計分群範例，在原始資料中，還包含了休閒品味與閱讀品味題組的題項可以讓大家練習，大家可以嘗試將音樂品味的題組替換成休閒、閱讀品味，並且檢視區分為不同分群組數時的差異。有興趣的同學，還可以再進一步分析資料中的教育、階級、家庭背景、年齡等資訊進一步的分析其關聯性，相信會得到相當多有趣的發現!</p><h1 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h1><p>在面對複雜的資料時，運用統計分群來簡化資料，並提取潛在結構是相當不錯的選擇!<br>但是當我們在選擇的分群數量太少，資訊就不會被充分地解釋，而分得太多，則無疑是違背了簡化複雜結果的初始目的，也會造成後續分析上的困擾。<br>而更重要的是，分群分析的結果往往不是一份研究的終點，相反的，我們應該站在分群結果之上，進一步的與家庭背景、社會階級等等資訊進行分析，如此才會是一份有價值的研究!</p><p>另外同學們還有想知道什麼嗎?有任何想法都歡迎與我分享喔!</p><h1 id="資料來源"><a href="#資料來源" class="headerlink" title="資料來源"></a>資料來源</h1><p><a href="http://www.ios.sinica.edu.tw/sc/cht/download.php?fn=tscs07.pdf" target="_blank" rel="noopener">張苙雲、廖培珊（2008）。臺灣社會變遷基本調查計畫第五期第三次調查計畫執行報告書。臺北市：中央研究院社會學研究所。</a><br><a href="https://cran.r-project.org/web/packages/factoextra/factoextra.pdf" target="_blank" rel="noopener">Kassambara, A., &amp; Mundt, F. (2016). Factoextra: extract and visualize the results of multivariate data analyses. R package version, 1(3).</a><br><a href="https://cran.r-project.org/web/packages/tidyverse/tidyverse.pdf" target="_blank" rel="noopener">Wickham, H. (2017). Tidyverse: Easily install and load’tidyverse’packages. R package version, 1(1).</a><br><a href="https://cran.r-project.org/web/packages/magrittr/magrittr.pdf" target="_blank" rel="noopener">Bache, S. M., &amp; Wickham, H. (2014). magrittr: a forward-pipe operator for R. R package version, 1(1).</a><br><a href="https://cran.r-project.org/web/packages/NbClust/NbClust.pdf" target="_blank" rel="noopener">Charrad, M., Ghazzali, N., Boiteau, V., Niknafs, A., &amp; Charrad, M. M. (2014). Package ‘NbClust’. Journal of Statistical Software, 61, 1-36.</a><br><a href="https://cran.r-project.org/web/packages/FactoMineR/FactoMineR.pdf" target="_blank" rel="noopener">Lê, S., Josse, J., &amp; Husson, F. (2008). FactoMineR: an R package for multivariate analysis. Journal of statistical software, 25(1), 1-18.</a> </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;想知道台灣的文化品味可以分為哪些類型呢？而區分為幾群又是最適的分群組數？&lt;br&gt;文化品味有這麼多種，而且「喜歡」也有程度上的差異，我們應該怎麼回答這個難題呢?&lt;/p&gt;
    
    </summary>
    
    
      <category term="統計分群" scheme="https://TLYu0419.github.io/tags/%E7%B5%B1%E8%A8%88%E5%88%86%E7%BE%A4/"/>
    
      <category term="文化品味" scheme="https://TLYu0419.github.io/tags/%E6%96%87%E5%8C%96%E5%93%81%E5%91%B3/"/>
    
      <category term="社會變遷調查" scheme="https://TLYu0419.github.io/tags/%E7%A4%BE%E6%9C%83%E8%AE%8A%E9%81%B7%E8%AA%BF%E6%9F%A5/"/>
    
      <category term="R語言" scheme="https://TLYu0419.github.io/tags/R%E8%AA%9E%E8%A8%80/"/>
    
  </entry>
  
</feed>
